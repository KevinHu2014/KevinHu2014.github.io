<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: git | Hsiangyu's Blog]]></title>
  <link href="http://hsiangyu.com/blog/categories/git/atom.xml" rel="self"/>
  <link href="http://hsiangyu.com/"/>
  <updated>2018-01-06T00:50:33+08:00</updated>
  <id>http://hsiangyu.com/</id>
  <author>
    <name><![CDATA[Hsiangyu]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[git-flow]]></title>
    <link href="http://hsiangyu.com/blog/2017/09/26/git-flow/"/>
    <updated>2017-09-26T14:40:20+08:00</updated>
    <id>http://hsiangyu.com/blog/2017/09/26/git-flow</id>
    <content type="html"><![CDATA[<h1>Git flow ç­†è¨˜</h1>

<h2>å‰è¨€</h2>

<p>åœ¨å…¬å¸é–‹ç™¼å°ˆæ¡ˆçš„æ™‚å€™ï¼ŒåŒäº‹å‰›å¥½éœ€è¦é–‹ç™¼ä¸€å€‹æ–°çš„featureï¼Œè€Œé€™å€‹featureéœ€è¦å¿…è¼ƒä¹…çš„æ™‚é–“æ‰èƒ½å›åˆ°masterï¼Œæ­¤æ™‚æˆ‘å€‘é‡æ–°æª¢è¦–äº†åŸä¾†ä½¿ç”¨çš„é–‹ç™¼æµGithub Flow æ˜¯ä¸æ˜¯æœ‰ä»€éº¼ç¼ºé»ï¼Œä¸¦ä¸”ä¹Ÿè¨è«–åˆ°å¦‚æœè½‰åˆ°Git flowæ˜¯å¦èƒ½è§£æ±ºç¾æ³ä¸‹é‡åˆ°çš„å•é¡Œã€‚</p>

<h2>ç°¡ä»‹</h2>

<p>Flow ç¿»æˆä¸­æ–‡æ˜¯ ã€æ°´æµã€çš„æ„æ€ï¼Œé€™è£¡æˆ‘å€‘å¯ä»¥ç†è§£æˆå·¥ä½œæµç¨‹ï¼Œå°±åƒæ°´æµä¼¼çš„é †æš¢æµå‹•ã€‚</p>

<p>å»£æ³›è¢«ä½¿ç”¨çš„å·¥ä½œæµæœ‰ä¸‰ç¨®ï¼š</p>

<ul>
<li>Git flow</li>
<li>Github flow</li>
<li>Gitlab flow</li>
</ul>


<p>è€Œæœ¬æ–‡ä¸»è¦æŠŠé‡é»æ”¾åœ¨Git flowã€‚</p>

<p>Git é›–ç„¶æ–¹ä¾¿å¥½ç”¨ï¼Œä½†ä¸¦æ²’æœ‰æå‡ºä¸€å¥—ç®¡ç†åˆ†æ”¯çš„æ–¹æ³•ï¼Œè€Œåœ‹å¤–æœ‰å¤§å¤§æ•´ç†å‡ºä¸€å¥—æ–¹æ³•: <a href="http://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model</a>ï¼Œè€Œé€™å¥—æ–¹æ³•å°±æ˜¯å¤§å®¶ç†ŸçŸ¥çš„Git flowã€‚</p>

<!--more-->


<p>Git flow çš„ä¸»è¦æ¦‚å¿µå°±æ˜¯ä»–æœ‰å…©å€‹ä¸»è¦çš„branch
<img src="http://nvie.com/img/main-branches@2x.png" alt="" /></p>

<p>åˆ†åˆ¥ç‚ºmaster å’Œ develop</p>

<p>developæ˜¯è² è²¬é–‹ç™¼çš„åˆ†æ”¯ï¼Œè€Œmasteræ˜¯çµ¦productionç”¨çš„</p>

<p>è€Œæ¬¡è¦åˆ†æ”¯æœ‰feature, release è·Ÿhotfix</p>

<p><img src="http://nvie.com/img/git-model@2x.png" alt="" />
ç¬¬ä¸€æ¬¡çœ‹åˆ°é€™å¼µåœ–å¯èƒ½æœƒè¢«åš‡åˆ°å§www ï¼Œä½†é€™å¼µåœ–å…¶å¯¦æ²’æœ‰æƒ³åƒä¸­çš„è¤‡é›œï¼Œåªæ¯”å‰ä¸€å¼µåœ–å¤šäº†ä¸‰å€‹æ¬¡è¦åˆ†æ”¯ã€‚</p>

<p>æ¥ä¸‹ä¾†å°±ä¸€ä¸€ä¾†ä»‹ç´¹ä»–å€‘ï½</p>

<p>é¦–å…ˆæ˜¯feature åˆ†æ”¯ï¼Œä½¿ç”¨æ™‚æ©Ÿæ˜¯åªè¦æ˜¯é–‹ç™¼æ–°åŠŸèƒ½çš„æ™‚å€™ï¼Œ
å°±é–‹æ–°çš„feature åˆ†æ”¯ï¼Œè€Œç•¶æ­¤feature åˆ†æ”¯é–‹ç™¼å®Œå¾Œï¼Œ
å°±å°‡å®ƒ merge å› develop åˆ†æ”¯ã€‚</p>

<p>å†ä¾†æ˜¯release åˆ†æ”¯ï¼Œä½¿ç”¨æ™‚æ©Ÿæ˜¯åœ¨é€å‡ºä¸‹ä¸€ç‰ˆå‰è¦ä¿®æ­£bugçš„æ™‚å€™ï¼Œ
æ­¤æ™‚å°±é–‹æ–°çš„release åˆ†æ”¯ï¼Œè€Œç•¶æ­¤release åˆ†æ”¯é–‹ç™¼å®Œå¾Œï¼Œè®“ä»–åŒæ™‚å›åˆ°develop é‚„æœ‰ master åˆ†æ”¯ã€‚</p>

<p>è€Œè‡³æ–¼hotfix åˆ†æ”¯ä½¿ç”¨çš„æ™‚æ©Ÿå‰‡æ˜¯åœ¨ä¿®å·²ä¸Šproduction å¾Œè‡¨æ™‚è¦ä¿®bugæ™‚ï¼Œç•¶hotfix åˆ†æ”¯é–‹ç™¼å®Œå¾Œï¼Œè®“ä»–åŒæ™‚å›åˆ°develop é‚„æœ‰ master åˆ†æ”¯ã€‚</p>

<h2>æ•™å­¸</h2>

<p>ç”±æ–¼Git flow ä¸æ˜¯Git è£¡åŸæœ‰çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦å¦å¤–å®‰è£ä½œè€…æ‰€æä¾›çš„<a href="https://github.com/nvie/gitflow">gitflow</a> å·¥å…·ã€‚</p>

<p>è€Œé€™è£¡å°±ä»¥Mac OS Xä¾†åšæ•™å­¸ï¼Œä¸¦å‡è¨­ä½ æœ‰è£<a href="https://brew.sh/index_zh-tw.html">homebrew</a>ã€‚</p>

<h3>å®‰è£</h3>

<pre><code>$ brew install git-flow
</code></pre>

<h3>ç‚ºå°ˆæ¡ˆåŠ å…¥Git flow</h3>

<pre><code>$ git flow init
</code></pre>

<h3>å»ºç«‹åˆ†æ”¯</h3>

<h4>feature</h4>

<p>åˆ—å‡ºæ‰€æœ‰çš„feature branch</p>

<pre><code>$ git flow feature  
</code></pre>

<p>é–‹å•Ÿæ–°çš„ feature branch</p>

<pre><code>$ git flow feature start &lt;name&gt;
</code></pre>

<ul>
<li>name ç‚ºä½ æƒ³è¦çš„feature åˆ†æ”¯åç¨±</li>
</ul>


<p>çµæŸfeature branch</p>

<pre><code>$ git flow feature finish &lt;name&gt;
</code></pre>

<ul>
<li>name ç‚ºä½ æƒ³è¦çµæŸçš„åˆ†æ”¯åç¨±</li>
<li>feature åˆ†æ”¯å®Œæˆå¾Œæœƒè¢« mergeé€² develop åˆ†æ”¯</li>
</ul>


<p>æŠŠfeature åˆ†æ”¯ æ¨åˆ° remote</p>

<pre><code>$ git flow feature publish &lt;name&gt;
</code></pre>

<ul>
<li>name ç‚ºä½ æƒ³è¦æ¨çš„åˆ†æ”¯åç¨±</li>
</ul>


<p>æŠŠremoteçš„ feature åˆ†æ”¯æ‹‰ä¸‹ä¾†</p>

<pre><code>$ git flow feature pull &lt;remote&gt; &lt;name&gt;
</code></pre>

<ul>
<li>remote é€šå¸¸æ˜¯ origin çš„æ¨£å­? &lt;-  é€™è£¡å¯èƒ½é‚„è¦è«‹å¤§å¤§ç³¾æ­£</li>
<li>name ç‚ºä½ è¦æ‹‰çš„åˆ†æ”¯åç¨±</li>
</ul>


<h4>release</h4>

<p>åˆ—å‡ºæ‰€æœ‰çš„ release branch</p>

<pre><code>$ git flow release  
</code></pre>

<p>é–‹å•Ÿæ–°çš„ release branch</p>

<pre><code>$ git flow release start &lt;release&gt;
</code></pre>

<ul>
<li>release ç‚ºä½ æƒ³è¦çš„ release åˆ†æ”¯åç¨±</li>
</ul>


<p>çµæŸ release branch</p>

<pre><code>$ git flow release finish &lt;release&gt;
</code></pre>

<ul>
<li>release ç‚ºä½ æƒ³è¦çµæŸçš„åˆ†æ”¯åç¨±</li>
<li>release åˆ†æ”¯å®Œæˆå¾Œæœƒè¢« mergeé€² develop åˆ†æ”¯ å’Œ master åˆ†æ”¯</li>
</ul>


<h4>hotfix</h4>

<p>åˆ—å‡ºæ‰€æœ‰çš„ hotfix branch</p>

<pre><code>$ git flow hotfix  
</code></pre>

<p>é–‹å•Ÿæ–°çš„ hotfix branch</p>

<pre><code>$ git flow hotfix start &lt;release&gt;
</code></pre>

<ul>
<li>release ç‚ºä½ æƒ³è¦çš„ hotfix åˆ†æ”¯åç¨±</li>
</ul>


<p>çµæŸ hotfix branch</p>

<pre><code>$ git flow hotfix finish &lt;release&gt;
</code></pre>

<ul>
<li>hotfix ç‚ºä½ æƒ³è¦çµæŸçš„åˆ†æ”¯åç¨±</li>
<li>release åˆ†æ”¯å®Œæˆå¾Œæœƒè¢« mergeé€² develop åˆ†æ”¯ å’Œ master åˆ†æ”¯</li>
</ul>


<h2>çµè«–</h2>

<p>ä»‹ç´¹äº†é‚£éº¼å¤šï¼Œæœ€å¾Œçš„çµè«–æ˜¯æˆ‘å€‘æ²’æœ‰ä½¿ç”¨Git flow ğŸ˜‚ ğŸ˜‚ ğŸ˜‚ï¼Œç”±æ–¼å…¬å¸å°ˆæ¡ˆdeployçš„å¾ˆé »ç¹ï¼ŒåŸºæœ¬ä¸Šmaster å’Œ develop åˆ†æ”¯æ˜¯æ²’æœ‰å·®åˆ¥çš„ï¼Œå†è€…å°±ç®—ä½¿ç”¨Git flow ä¹Ÿç„¡æ³•è§£æ±º feature åˆ†æ”¯å¾ˆä¹…æ‰å›production çš„å•é¡Œï¼Œå› æ­¤é‚„æ˜¯ç¹¼çºŒä½¿ç”¨åŸæœ¬çš„Github flowä¾†ç•¶ä½œæˆ‘å€‘çš„ workflowï¼Œä¸éå‰›å¥½è¶é€™å€‹æ©Ÿæœƒæˆ‘ä¹Ÿå°Git flow æœ‰é€²ä¸€æ­¥çš„èªè­˜ã€‚</p>
]]></content>
  </entry>
  
</feed>
